<!-- Navbar de navegaciÃ³n protegida -->
<nav class="protected-navbar">
  <div class="navbar-content">
    
    <!-- Logo y tÃ­tulo -->
    <div class="navbar-brand">
      <div class="brand-icon floating">ðŸ’¬</div>
      <span class="brand-text">Chat AI</span>
    </div>

    <!-- NavegaciÃ³n principal -->
    <div class="navbar-nav">
      <button 
        class="nav-item"
        [class.active]="estaActiva('/onboarding')"
        (click)="irAOnboarding()"
        type="button">
        ðŸ“‹ Bienvenida
      </button>
      <button 
        class="nav-item"
        [class.active]="estaActiva('/chat')"
        (click)="irAChat()"
        type="button">
        ðŸ’¬ Chat
      </button>
    </div>

    <!-- Usuario y acciones -->
    <div class="navbar-user">
      @if (usuario) {
        <div class="user-info">
          <div class="user-avatar">
            @if (usuario.fotoUrl) {
              <img [src]="usuario.fotoUrl" [alt]="usuario.nombre || 'Usuario'" class="avatar-img">
            }@else {
              <span class="avatar-initials">{{ obtenerIniciales(usuario.nombre) }}</span>
            }
          </div>
          <span class="user-name">{{ usuario.nombre || 'Usuario' }}</span>
        </div>
        <button 
          class="logout-btn"
          (click)="cerrarSesion()"
          type="button"
          title="Cerrar sesiÃ³n">
          ðŸšª
        </button>
      }@else {
        <div class="user-skeleton">
          <div class="skeleton-avatar"></div>
          <div class="skeleton-name"></div>
        </div>
      }
    </div>

  </div>
</nav>